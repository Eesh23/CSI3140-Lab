<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Catalog</title>
    <style>
        table {
            width: 80%;
            margin: 20px auto;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        .product-image {
            width: 100px;
            height: auto;
        }
        #description-display {
            margin: 20px auto;
            width: 80%;
            padding: 10px;
            border: 1px solid #ddd;
            display: none; 
        }
        #large-image {
            position: absolute;
            border: 1px solid #ddd;
            display: none;
            background-color: #fff;
            padding: 5px;
            z-index: 100;
        }
    </style>
</head>
<body>
    <table id="product-table">
        <thead>
            <tr>
                <th>Product</th>
                <th>Price</th>
                <th>Thumbnail</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
    <div id="large-image"></div>
    <div id="description-display"></div> 
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const tableBody = document.querySelector('#product-table tbody');
            const descriptionDisplay = document.getElementById('description-display');
            const largeImageDiv = document.getElementById('large-image');

            function loadProductSummary() {
                fetch('summary.json')
                    .then(response => response.json())
                    .then(data => {
                        data.forEach(product => {
                            const row = tableBody.insertRow();
                            row.innerHTML = `
                                <td>${product.title}</td>
                                <td>$${product.price}</td>
                                <td><img src="${product.thumbnail}" alt="${product.title}" class="product-image"></td>
                                <td><button onclick="showDescription('${product.id}')">Show Description</button></td>
                            `;

                            const thumbnail = row.querySelector('.product-image');
                            thumbnail.addEventListener('mouseenter', () => {
                                fetch('image.json')
                                    .then(response => response.json())
                                    .then(images => {
                                        const productImage = images.find(img => img.id === product.id).image;
                                        largeImageDiv.innerHTML = `<img src="${productImage}" alt="${product.title}" style="width:200px;">`;
                                        largeImageDiv.style.display = 'block';
                                    });
                            });

                            thumbnail.addEventListener('mouseleave', () => {
                                largeImageDiv.style.display = 'none';
                            });
                        });
                    });
            }

            window.showDescription = function(id) {
                fetch('description.json')
                    .then(response => response.json())
                    .then(descriptions => {
                        const description = descriptions.find(desc => desc.id === id).description;
                        descriptionDisplay.innerText = description;
                        descriptionDisplay.style.display = 'block'; 
                    });
            }

            loadProductSummary();
        });
    </script>
</body>
</html>
